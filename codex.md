<!-- gen-readme start - generated by https://github.com/khulnasoft/codex/ -->
# codex

Instant, easy, and predictable development environments

## Getting Started
This project uses [codex](https://github.com/khulnasoft/codex) to manage its development environment.

Install codex:
```sh
curl -fsSL https://get.khulnasoft/codex | bash
```

Start the codex shell:
```sh 
codex shell
```

Run a script in the codex environment:
```sh
codex run <script>
```
## Scripts
Scripts are custom commands that can be run using this project's environment. This project has the following scripts:

- [codex](#codex)
  - [Getting Started](#getting-started)
  - [Scripts](#scripts)
  - [Environment](#environment)
  - [Shell Init Hook](#shell-init-hook)
  - [Packages](#packages)
  - [Script Details](#script-details)
    - [codex run build](#codex-run-build)
    - [codex run build-all](#codex-run-build-all)
    - [codex run build-darwin-amd64](#codex-run-build-darwin-amd64)
    - [codex run build-darwin-arm64](#codex-run-build-darwin-arm64)
    - [codex run build-linux-amd64](#codex-run-build-linux-amd64)
    - [codex run build-linux-arm64](#codex-run-build-linux-arm64)
    - [codex run code](#codex-run-code)
    - [codex run fmt](#codex-run-fmt)
    - [codex run lint](#codex-run-lint)
    - [codex run test](#codex-run-test)
    - [codex run tidy](#codex-run-tidy)
    - [codex run update-examples](#codex-run-update-examples)

## Environment

```sh
GOENV="off"
PATH="$PATH:$PWD/dist"
```

## Shell Init Hook
The Shell Init Hook is a script that runs whenever the codex environment is instantiated. It runs 
on `codex shell` and on `codex run`.
```sh
test -z $FISH_VERSION && unset CGO_ENABLED GO111MODULE GOARCH GOFLAGS GOMOD GOOS GOROOT GOTOOLCHAIN GOWORK
```

## Packages

* [go@latest](https://www.nixhub.io/packages/go)
* [runx:golangci/golangci-lint@latest](https://www.github.com/golangci/golangci-lint)
* [runx:mvdan/gofumpt@latest](https://www.github.com/mvdan/gofumpt)

## Script Details

### codex run build
Build codex for the current platform
```sh
go build -o dist/codex ./cmd/codex
```
&ensp;

### codex run build-all
```sh
codex run build-darwin-amd64
codex run build-darwin-arm64
codex run build-linux-amd64
codex run build-linux-arm64
```
&ensp;

### codex run build-darwin-amd64
```sh
GOOS=darwin GOARCH=amd64 go build -o dist/codex-darwin-amd64 ./cmd/codex
```
&ensp;

### codex run build-darwin-arm64
```sh
GOOS=darwin GOARCH=arm64 go build -o dist/codex-darwin-arm64 ./cmd/codex
```
&ensp;

### codex run build-linux-amd64
```sh
GOOS=linux GOARCH=amd64 go build -o dist/codex-linux-amd64 ./cmd/codex
```
&ensp;

### codex run build-linux-arm64
```sh
GOOS=linux GOARCH=arm64 go build -o dist/codex-linux-arm64 ./cmd/codex
```
&ensp;

### codex run code
Open VSCode
```sh
code .
```
&ensp;

### codex run fmt
```sh
scripts/gofumpt.sh
```
&ensp;

### codex run lint
```sh
golangci-lint run --timeout 5m && scripts/gofumpt.sh
```
&ensp;

### codex run test
```sh
go test -race -cover ./...
```
&ensp;

### codex run tidy
```sh
go mod tidy
```
&ensp;

### codex run update-examples
```sh
codex run build && go run testscripts/testrunner/updater/main.go
```
&ensp;



<!-- gen-readme end -->
